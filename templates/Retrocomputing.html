{% extends "base.html" %}

{% block content %}

{% for plat_list in [
      ['Apple II', 'Commodore VIC-20', 'Commodore 64'],
      ['Amiga 500', 'MS-DOS', 'Z80 machine code'],
    ] %}
  <div class="row-fluid">
    {% for plat_key in plat_list %}
      <div class="span4">
        <h2>{{ link(plat_key) }}</h2>
        {% if data[plat_key].description %}
          {{ md2html(data[plat_key].description) }}
        {% endif %}
        <ul>
        {% for thing in data|sort %}
          {% if (data[thing].platform == plat_key or
                 data[thing].host_platform == plat_key or
                 data[thing].target_platform == plat_key) and
                'Chris Pressey' in data[thing].authors and
                data[thing].development_stage not in ['idea', 'work in progress', 'abandoned', 'lost'] %}
            <li>
              <p>{{ link(thing) }}</p>
              {% if data[thing].description %}
                {{ md2html(data[thing].description) }}
              {% endif %}
              {% if data[thing].commentary %}
                {{ md2html(data[thing].commentary) }}
              {% endif %}
            </li>
          {% endif %}
        {% endfor %}
        </ul>
      </div>
    {% endfor %}
  </div>
{% endfor %}

{% endblock content %}
