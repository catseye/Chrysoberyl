{% extends "base.html" %}

{% block byline %}
  {% if authors %}
    <p id="byline">
      A
      {% if genre and type not in ['Programming Language'] %}
        {{ link_lower(genre) }}
      {% endif %}
      {{ link_lower(type) }}
      {% if genre and type in ['Programming Language'] %}
        in the genre of {{ link_lower(genre) }}
      {% endif %}
      by {{ linked_list(authors) }}
      {%- if auspices -%}
        , {{ linked_list(auspices) }}
      {%- endif -%}
    </p>
  {% endif %}
{% endblock byline %}

{% block content %}

{% if reference_distribution %}
  <h2>Reference distribution</h2>
  {# maybe include info about this inline somehow #}
  <p>{{ link(reference_distribution) }}</p>
{% elif standards_body %}
  <h2>Defined by</h2>
  <p><a href="{{ standards_body }}">{{ standards_body }}</a></p>
{% elif specification_link %}
  <h2>Defined by</h2>
  <p>
    {% if specification_link == 'esowiki' %}
      Esowiki article <a href="http://esolangs.org/wiki/{{ esowiki }}">{{ esowiki }}</a>
    {% else %}
      <a href="{{ specification_link }}">{{ specification_link }}</a></p>
    {% endif %}
  </p>
{% endif %}

{% if influences %}
  <h2>Influences</h2>
  <ul>
    {% for influence in influences|sort %}
      <li>
        {{ link(influence) }}
      </li>
    {% endfor %}
  </ul>
{% endif %}

{% if related('influences') %}
  <h2>Influenced</h2>
  <ul>
    {% for influenced in related('influences')|sort %}
      <li>
        {{ link(influenced) }}
      </li>
    {% endfor %}
  </ul>
{% endif %}

{% if related('implementation-of') %}
  <h2>Implementations</h2>
  <ul>
    {% for implementation in related('implementation-of')|sort %}
      <li>
        {{ link(implementation) }} in {{ link(data[implementation].host_language) }}
        {% if data[implementation].host_language == key %}
          (Yo dawg, I herd you like {{ key }})
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endif %}

{% block implementable_content %}
{% endblock %}

{% endblock content %}
