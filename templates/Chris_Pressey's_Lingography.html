{# bespoke template for Chris Pressey's Lingography #}
{% extends "base.html" %}

{% block content %}

<h3>Languages I've Designed</h3>

<ul>
{% for thing in data|sort %}
  {% if data[thing].type in [
                              'Programming Language',
                              'Programming Language Family',
                              'Abstract Artlang'
                            ] and
        'Chris Pressey' in data[thing].authors and
        data[thing].development_stage not in ['idea', 'work in progress'] and
        not data[thing].variant_of %}
    <li>
      <p><a href="{{ filekey(thing) }}">{{ thing }}</a></p>
      {% if data[thing].description_html %}
        <p>{{ data[thing].description_html }}</p>
      {% endif %}
      {% if data[thing].commentary_html %}
        <p>{{ data[thing].commentary_html }}</p>
      {% endif %}
      {% if related('variant_of', key=thing) %}
        <p>Variants of {{thing}}:</p>
        <ul>
          {% for variant in related('variant_of', key=thing) %}
            <li>
              <p><a href="{{ filekey(variant) }}">{{ variant }}</a></p>
            </li>
          {% endfor %}
        </ul>
      {% endif %}
    </li>
  {% endif %}
{% endfor %}
</ul>

<h3>Languages I've Implemented</h3>

<ul>
{% for thing in data|sort %}
  {% if data[thing].type == 'Implementation' and
        'Chris Pressey' in data[thing].authors and
        data[data[thing].implementation_of].type == 'Programming Language' and
        'Chris Pressey' not in data[data[thing].implementation_of].authors and
        data[thing].development_stage not in ['idea', 'work in progress'] %}
    <li>
      <p>
        <a href="{{ filekey(data[thing].implementation_of) }}">{{ data[thing].implementation_of }}</a>
        -- as
        <a href="{{ filekey(thing) }}">{{ thing }}</a>
        in
        <a href="{{ filekey(data[thing].host_language) }}">{{ data[thing].host_language }}</a>
        {% if data[thing].host_platform %}
          for <a href="{{ filekey(data[thing].host_platform) }}">{{ data[thing].host_platform }}</a>
        {% endif %}
      </p>
      {% if data[thing].description_html %}
        <p>{{ data[thing].description_html }}</p>
      {% endif %}
      {% if data[thing].commentary_html %}
        <p>{{ data[thing].commentary_html }}</p>
      {% endif %}
    </li>
  {% endif %}
{% endfor %}
</ul>

{% endblock content %}
