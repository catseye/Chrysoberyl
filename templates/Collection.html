{% extends "base.html" %}

{#
  The query functionality presented here is very crude,
  and so most Collection nodes should provide bespoke
  templates for themselves which implement their query
  logic in Jinja2.
#}

{% block showtype %}{% endblock showtype %}

{% block content %}

<ul>
{% for thing in data %}
  {% if data[thing].type in include_types and
        include_author in data[thing].authors %}
    <li>
      <p><a href="{{ filekey(thing) }}">{{ thing }}</a></p>
      {% if data[thing].description_html %}
        <p>{{ data[thing].description_html }}</p>
      {% endif %}
      {% if data[thing].commentary_html %}
        <p>{{ data[thing].commentary_html }}</p>
      {% endif %}
    </li>
  {% endif %}
{% endfor %}
</ul>

{% endblock content %}
