{# bespoke template #}
{% extends "base.html" %}

{% block content %}

<h3>Games I've Designed</h3>

<ul>
{% for thing in data|sort %}
  {% if data[thing].type == 'Game' and
        'Chris Pressey' in data[thing].authors and
        data[thing].development_stage not in ['idea', 'work in progress', 'abandoned', 'unfinished', 'lost'] %}
    <li>
      <p><a href="{{ filekey(thing) }}">{{ thing }}</a> ({{ data[thing].inception_date }})</p>
      {% if data[thing].description_html %}
        <p>{{ data[thing].description_html }}</p>
      {% endif %}
      {% if data[thing].commentary_html %}
        <p>{{ data[thing].commentary_html }}</p>
      {% endif %}
    </li>
  {% endif %}
{% endfor %}
</ul>

<h3>Games I've Implemented</h3>

<ul>
{% for thing in data|sort %}
  {% if data[thing].type == 'Implementation' and
        'Chris Pressey' in data[thing].authors and
        data[data[thing].implementation_of[0]].type == 'Game' and
        'Chris Pressey' not in data[data[thing].implementation_of[0]].authors and
        data[thing].development_stage not in ['idea', 'work in progress'] %}
    <li>
      <p>
        <a href="{{ filekey(data[thing].implementation_of[0]) }}">{{ data[thing].implementation_of[0] }}</a>
        -- as
        <a href="{{ filekey(thing) }}">{{ thing }}</a>
        in
        <a href="{{ filekey(data[thing].host_language) }}">{{ data[thing].host_language }}</a>
        {% if data[thing].host_platform %}
          for <a href="{{ filekey(data[thing].host_platform) }}">{{ data[thing].host_platform }}</a>
        {% endif %}
         ({{ data[thing].inception_date }})
      </p>
      {% if data[thing].description_html %}
        <p>{{ data[thing].description_html }}</p>
      {% endif %}
      {% if data[thing].commentary_html %}
        <p>{{ data[thing].commentary_html }}</p>
      {% endif %}
    </li>
  {% endif %}
{% endfor %}
</ul>

{% endblock content %}
